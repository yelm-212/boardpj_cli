{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { postAPI } from '@/api';\nexport default {\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const username = computed(() => store.getters.getUsername);\n    const isLoggedIn = computed(() => store.getters.isLoggedIn);\n    const form = ref({\n      title: '',\n      content: ''\n    });\n    const handleSubmit = async () => {\n      if (!isLoggedIn.value) {\n        alert('사용자 이름을 먼저 설정해주세요.');\n        return;\n      }\n      try {\n        await postAPI.createPost({\n          ...form.value,\n          author: username.value\n        });\n        router.push('/');\n      } catch (error) {\n        console.error('게시글 작성 실패:', error);\n      }\n    };\n    return {\n      form,\n      handleSubmit\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","useStore","useRouter","postAPI","setup","store","router","username","getters","getUsername","isLoggedIn","form","title","content","handleSubmit","value","alert","createPost","author","push","error","console"],"sources":["/Users/user/Developer/boardpj/boardpjcli/src/components/PostCreate.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h2 class=\"card-title\">게시글 작성</h2>\n        <form @submit.prevent=\"handleSubmit\">\n          <div class=\"mb-3\">\n            <label class=\"form-label\">제목</label>\n            <input v-model=\"form.title\" type=\"text\" class=\"form-control\" required>\n          </div>\n          <div class=\"mb-3\">\n            <label class=\"form-label\">내용</label>\n            <textarea v-model=\"form.content\" class=\"form-control\" rows=\"5\" required></textarea>\n          </div>\n          <div class=\"d-flex justify-content-between\">\n            <router-link to=\"/\" class=\"btn btn-secondary\">취소</router-link>\n            <button type=\"submit\" class=\"btn btn-primary\">작성</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { postAPI } from '@/api'\n\nexport default {\n  setup() {\n    const store = useStore()\n    const router = useRouter()\n\n    const username = computed(() => store.getters.getUsername)\n    const isLoggedIn = computed(() => store.getters.isLoggedIn)\n\n    const form = ref({\n      title: '',\n      content: ''\n    })\n\n    const handleSubmit = async () => {\n      if (!isLoggedIn.value) {\n        alert('사용자 이름을 먼저 설정해주세요.')\n        return\n      }\n\n      try {\n        await postAPI.createPost({\n          ...form.value,\n          author: username.value\n        })\n        router.push('/')\n      } catch (error) {\n        console.error('게시글 작성 실패:', error)\n      }\n    }\n\n    return {\n      form,\n      handleSubmit\n    }\n  }\n}\n</script>"],"mappings":";AAyBA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAI;AAClC,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAQ,QAAS,YAAW;AACrC,SAASC,OAAM,QAAS,OAAM;AAE9B,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIJ,QAAQ,CAAC;IACvB,MAAMK,MAAK,GAAIJ,SAAS,CAAC;IAEzB,MAAMK,QAAO,GAAIP,QAAQ,CAAC,MAAMK,KAAK,CAACG,OAAO,CAACC,WAAW;IACzD,MAAMC,UAAS,GAAIV,QAAQ,CAAC,MAAMK,KAAK,CAACG,OAAO,CAACE,UAAU;IAE1D,MAAMC,IAAG,GAAIZ,GAAG,CAAC;MACfa,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACX,CAAC;IAED,MAAMC,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,IAAI,CAACJ,UAAU,CAACK,KAAK,EAAE;QACrBC,KAAK,CAAC,oBAAoB;QAC1B;MACF;MAEA,IAAI;QACF,MAAMb,OAAO,CAACc,UAAU,CAAC;UACvB,GAAGN,IAAI,CAACI,KAAK;UACbG,MAAM,EAAEX,QAAQ,CAACQ;QACnB,CAAC;QACDT,MAAM,CAACa,IAAI,CAAC,GAAG;MACjB,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK;MACnC;IACF;IAEA,OAAO;MACLT,IAAI;MACJG;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
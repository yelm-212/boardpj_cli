{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"card\"\n};\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  class: \"mb-3\"\n};\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\nconst _hoisted_6 = {\n  class: \"d-flex justify-content-between\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"d-flex justify-content-between align-items-center mb-4\"\n  }, [_createElementVNode(\"h2\", null, \"게시글 수정\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [$setup.post ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $setup.handleSubmit && $setup.handleSubmit(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"제목\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.title = $event),\n    type: \"text\",\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.title]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"내용\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.content = $event),\n    class: \"form-control\",\n    rows: \"5\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.content]])]), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: '/posts/' + $props.id,\n    class: \"btn btn-secondary\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"취소\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _cache[6] || (_cache[6] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \"수정\", -1 /* HOISTED */))])], 32 /* NEED_HYDRATION */)) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","$setup","post","key","onSubmit","_cache","_withModifiers","args","handleSubmit","_hoisted_4","$event","form","title","type","required","_hoisted_5","content","rows","_hoisted_6","_createVNode","_component_router_link","to","$props","id","default","_withCtx","_createTextVNode","_","_createCommentVNode"],"sources":["/Users/user/Developer/boardpj/boardpjcli/src/components/PostEdit.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\n      <h2>게시글 수정</h2>\n    </div>\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <form @submit.prevent=\"handleSubmit\" v-if=\"post\">\n          <div class=\"mb-3\">\n            <label class=\"form-label\">제목</label>\n            <input v-model=\"form.title\" type=\"text\" class=\"form-control\" required>\n          </div>\n          <div class=\"mb-3\">\n            <label class=\"form-label\">내용</label>\n            <textarea v-model=\"form.content\" class=\"form-control\" rows=\"5\" required></textarea>\n          </div>\n          <div class=\"d-flex justify-content-between\">\n            <router-link :to=\"'/posts/' + id\" class=\"btn btn-secondary\">취소</router-link>\n            <button type=\"submit\" class=\"btn btn-primary\">수정</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { postAPI } from '@/api'\n\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true\n    }\n  },\n\n\n  setup(props) {\n    const router = useRouter()\n    const post = ref(null)\n    const form = ref({\n      id: '',  // id 필드 추가\n      title: '',\n      content: ''\n    })\n\n    const fetchPost = async () => {\n      try {\n        const response = await postAPI.getPost(props.id)\n        post.value = response.data\n        form.value = {\n          id: Number(props.id),\n          title: response.data.title,\n          content: response.data.content\n        }\n      } catch (error) {\n        console.error('게시글 조회 실패:', error)\n      }\n    }\n\n    const handleSubmit = async () => {\n      try {\n        console.log(form.value)\n        await postAPI.updatePost(form.value)\n        router.push(`/posts/${props.id}`)\n      } catch (error) {\n        console.error('게시글 수정 실패:', error)\n      }\n    }\n\n    onMounted(() => {\n      fetchPost()\n    })\n\n    return {\n      post,\n      form,\n      handleSubmit\n    }\n  }\n}\n</script>"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;EAIpBA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;;EAEbA,KAAK,EAAC;AAAM;;EAIZA,KAAK,EAAC;AAAM;;EAIZA,KAAK,EAAC;AAAgC;;;uBAfnDC,mBAAA,CAsBM,OAtBNC,UAsBM,G,0BArBJC,mBAAA,CAEM;IAFDH,KAAK,EAAC;EAAwD,IACjEG,mBAAA,CAAe,YAAX,QAAM,E,sBAEZA,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBJD,mBAAA,CAeM,OAfNE,UAeM,GAduCC,MAAA,CAAAC,IAAI,I,cAA/CN,mBAAA,CAaO;IApBfO,GAAA;IAOeC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAPrBC,cAAA,KAAAC,IAAA,KAO+BN,MAAA,CAAAO,YAAA,IAAAP,MAAA,CAAAO,YAAA,IAAAD,IAAA,CAAY;MACjCT,mBAAA,CAGM,OAHNW,UAGM,G,0BAFJX,mBAAA,CAAoC;IAA7BH,KAAK,EAAC;EAAY,GAAC,IAAE,sB,gBAC5BG,mBAAA,CAAsE;IAVlF,uBAAAO,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAU4BT,MAAA,CAAAU,IAAI,CAACC,KAAK,GAAAF,MAAA;IAAEG,IAAI,EAAC,MAAM;IAAClB,KAAK,EAAC,cAAc;IAACmB,QAAQ,EAAR;iDAA7Cb,MAAA,CAAAU,IAAI,CAACC,KAAK,E,KAE5Bd,mBAAA,CAGM,OAHNiB,UAGM,G,0BAFJjB,mBAAA,CAAoC;IAA7BH,KAAK,EAAC;EAAY,GAAC,IAAE,sB,gBAC5BG,mBAAA,CAAmF;IAd/F,uBAAAO,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAc+BT,MAAA,CAAAU,IAAI,CAACK,OAAO,GAAAN,MAAA;IAAEf,KAAK,EAAC,cAAc;IAACsB,IAAI,EAAC,GAAG;IAACH,QAAQ,EAAR;iDAA5Cb,MAAA,CAAAU,IAAI,CAACK,OAAO,E,KAEjClB,mBAAA,CAGM,OAHNoB,UAGM,GAFJC,YAAA,CAA4EC,sBAAA;IAA9DC,EAAE,cAAcC,MAAA,CAAAC,EAAE;IAAE5B,KAAK,EAAC;;IAjBpD6B,OAAA,EAAAC,QAAA,CAiBwE,MAAEpB,MAAA,QAAAA,MAAA,OAjB1EqB,gBAAA,CAiBwE,IAAE,E;IAjB1EC,CAAA;uDAkBY7B,mBAAA,CAAyD;IAAjDe,IAAI,EAAC,QAAQ;IAAClB,KAAK,EAAC;KAAkB,IAAE,qB,gCAlB5DiC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}